int IRledPin = 3; // LED Infravermelho conectado ao pino digital 3

void setup() {
  // put your setup code here, to run once:
  pinMode(IRledPin, OUTPUT); // Define modo do pino 3 como saída
  Serial.begin(9600); // Inicializa a serial
}

void loop() {
  if (Serial.available()) {
    char ser = Serial.read();
    if(ser == '1') {
      ligaAr();
    }
    else if (ser == '2') {
      diminuiTemp();
    }
    else if (ser == '3') {
      aumentaTemp();
    }
  }
}

void ligaAr(){
  // comandos gerados na captura IR
delayMicroseconds(9404);
pulseIR(4580);
delayMicroseconds(4500);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(560);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(1660);
pulseIR(580);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(540);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(560);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(1660);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(540);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(560);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(540);
pulseIR(600);
delayMicroseconds(540);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(560);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(560);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(1660);
pulseIR(580);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(560);
delayMicroseconds(1660);
pulseIR(600);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(540);
pulseIR(580);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(540);
pulseIR(580);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(1660);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(560);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(540);
pulseIR(580);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(1660);
pulseIR(580);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(520);
pulseIR(600);
delayMicroseconds(1680);
pulseIR(560);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(560);
delayMicroseconds(1680);
pulseIR(540);
delayMicroseconds(5420);
pulseIR(4540);
delayMicroseconds(4520);
pulseIR(580);
delayMicroseconds(1660);
pulseIR(580);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(1640);
pulseIR(600);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(540);
pulseIR(580);
delayMicroseconds(540);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(560);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(540);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(560);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(1660);
pulseIR(600);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(540);
pulseIR(580);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(1660);
pulseIR(600);
delayMicroseconds(1640);
pulseIR(600);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(1660);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(1660);
pulseIR(580);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(520);
pulseIR(600);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(1660);
pulseIR(600);
delayMicroseconds(1680);
pulseIR(560);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(540);
pulseIR(580);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(540);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(1640);
pulseIR(600);
delayMicroseconds(560);
pulseIR(560);
delayMicroseconds(560);
pulseIR(580);
delayMicroseconds(1660);
pulseIR(580);
delayMicroseconds(1680);
pulseIR(580);
delayMicroseconds(1660);
pulseIR(580);
delayMicroseconds(1660);
pulseIR(560);
}

void aumentaTemp(){
  // comandos gerados na captura IR
delayMicroseconds(57804);
pulseIR(4720);
delayMicroseconds(4440);
pulseIR(720);
delayMicroseconds(1540);
pulseIR(660);
delayMicroseconds(480);
pulseIR(720);
delayMicroseconds(1540);
pulseIR(640);
delayMicroseconds(1580);
pulseIR(720);
delayMicroseconds(420);
pulseIR(720);
delayMicroseconds(440);
pulseIR(720);
delayMicroseconds(1500);
pulseIR(720);
delayMicroseconds(440);
pulseIR(720);
delayMicroseconds(420);
pulseIR(720);
delayMicroseconds(1520);
pulseIR(700);
delayMicroseconds(440);
pulseIR(720);
delayMicroseconds(420);
pulseIR(700);
delayMicroseconds(1540);
pulseIR(700);
delayMicroseconds(1540);
pulseIR(720);
delayMicroseconds(440);
pulseIR(620);
delayMicroseconds(1600);
pulseIR(720);
delayMicroseconds(440);
pulseIR(720);
delayMicroseconds(480);
pulseIR(620);
delayMicroseconds(500);
pulseIR(720);
delayMicroseconds(1520);
pulseIR(720);
delayMicroseconds(1520);
pulseIR(700);
delayMicroseconds(1540);
pulseIR(680);
delayMicroseconds(1560);
pulseIR(700);
delayMicroseconds(1540);
pulseIR(720);
delayMicroseconds(1500);
pulseIR(720);
delayMicroseconds(1540);
pulseIR(720);
delayMicroseconds(1500);
pulseIR(720);
delayMicroseconds(420);
pulseIR(700);
delayMicroseconds(460);
pulseIR(660);
delayMicroseconds(460);
pulseIR(720);
delayMicroseconds(440);
pulseIR(700);
delayMicroseconds(440);
pulseIR(680);
delayMicroseconds(480);
pulseIR(640);
delayMicroseconds(1580);
pulseIR(720);
delayMicroseconds(1540);
pulseIR(620);
delayMicroseconds(500);
pulseIR(720);
delayMicroseconds(1520);
pulseIR(720);
delayMicroseconds(440);
pulseIR(620);
delayMicroseconds(500);
pulseIR(660);
delayMicroseconds(500);
pulseIR(700);
delayMicroseconds(1540);
pulseIR(660);
delayMicroseconds(460);
pulseIR(720);
delayMicroseconds(440);
pulseIR(720);
delayMicroseconds(1540);
pulseIR(640);
delayMicroseconds(480);
pulseIR(700);
delayMicroseconds(1540);
pulseIR(680);
delayMicroseconds(1540);
pulseIR(660);
delayMicroseconds(1600);
pulseIR(720);
delayMicroseconds(4760);
pulseIR(4720);
delayMicroseconds(4500);
pulseIR(720);
delayMicroseconds(1520);
pulseIR(720);
delayMicroseconds(440);
pulseIR(680);
delayMicroseconds(1540);
pulseIR(720);
delayMicroseconds(1540);
pulseIR(700);
delayMicroseconds(440);
pulseIR(640);
delayMicroseconds(500);
pulseIR(640);
delayMicroseconds(1600);
pulseIR(720);
delayMicroseconds(420);
pulseIR(660);
delayMicroseconds(480);
pulseIR(720);
delayMicroseconds(1520);
pulseIR(720);
delayMicroseconds(440);
pulseIR(700);
delayMicroseconds(420);
pulseIR(660);
delayMicroseconds(1600);
pulseIR(700);
delayMicroseconds(1540);
pulseIR(720);
delayMicroseconds(440);
pulseIR(700);
delayMicroseconds(1520);
pulseIR(720);
delayMicroseconds(420);
pulseIR(720);
delayMicroseconds(440);
pulseIR(720);
delayMicroseconds(420);
pulseIR(720);
delayMicroseconds(1520);
pulseIR(720);
delayMicroseconds(1580);
pulseIR(700);
delayMicroseconds(1520);
pulseIR(660);
delayMicroseconds(1600);
pulseIR(700);
delayMicroseconds(1540);
pulseIR(680);
delayMicroseconds(1540);
pulseIR(720);
delayMicroseconds(1540);
pulseIR(720);
delayMicroseconds(1500);
pulseIR(720);
delayMicroseconds(440);
pulseIR(700);
delayMicroseconds(440);
pulseIR(680);
delayMicroseconds(480);
pulseIR(640);
delayMicroseconds(480);
pulseIR(720);
delayMicroseconds(420);
pulseIR(720);
delayMicroseconds(440);
pulseIR(720);
delayMicroseconds(1540);
pulseIR(640);
delayMicroseconds(1580);
pulseIR(720);
delayMicroseconds(420);
pulseIR(700);
delayMicroseconds(1520);
pulseIR(660);
delayMicroseconds(500);
pulseIR(720);
delayMicroseconds(420);
pulseIR(720);
delayMicroseconds(440);
pulseIR(720);
delayMicroseconds(1540);
pulseIR(640);
delayMicroseconds(480);
pulseIR(700);
delayMicroseconds(440);
pulseIR(680);
delayMicroseconds(1560);
pulseIR(640);
delayMicroseconds(500);
pulseIR(720);
delayMicroseconds(1520);
pulseIR(660);
delayMicroseconds(1580);
pulseIR(700);
delayMicroseconds(1540);
pulseIR(660);
}

void diminuiTemp(){
  // comandos gerados na captura IR
delayMicroseconds(40720);
pulseIR(160);
delayMicroseconds(120);
pulseIR(100);
delayMicroseconds(19700);
pulseIR(200);
delayMicroseconds(19880);
pulseIR(180);
delayMicroseconds(19940);
pulseIR(180);
delayMicroseconds(19920);
pulseIR(160);
delayMicroseconds(120);
pulseIR(180);
delayMicroseconds(120);
pulseIR(80);
delayMicroseconds(19440);
pulseIR(120);
delayMicroseconds(120);
pulseIR(180);
delayMicroseconds(7196);
pulseIR(4760);
delayMicroseconds(4420);
pulseIR(660);
delayMicroseconds(1580);
pulseIR(760);
delayMicroseconds(400);
pulseIR(700);
delayMicroseconds(1520);
pulseIR(660);
delayMicroseconds(1580);
pulseIR(760);
delayMicroseconds(400);
pulseIR(600);
delayMicroseconds(520);
pulseIR(760);
delayMicroseconds(1500);
pulseIR(740);
delayMicroseconds(400);
pulseIR(720);
delayMicroseconds(420);
pulseIR(660);
delayMicroseconds(1580);
pulseIR(740);
delayMicroseconds(400);
pulseIR(740);
delayMicroseconds(420);
pulseIR(740);
delayMicroseconds(1520);
pulseIR(700);
delayMicroseconds(1520);
pulseIR(740);
delayMicroseconds(400);
pulseIR(760);
delayMicroseconds(1480);
pulseIR(720);
delayMicroseconds(420);
pulseIR(660);
delayMicroseconds(500);
pulseIR(740);
delayMicroseconds(400);
pulseIR(760);
delayMicroseconds(1460);
pulseIR(740);
delayMicroseconds(1520);
pulseIR(740);
delayMicroseconds(1500);
pulseIR(740);
delayMicroseconds(1500);
pulseIR(740);
delayMicroseconds(1480);
pulseIR(660);
delayMicroseconds(1600);
pulseIR(740);
delayMicroseconds(1480);
pulseIR(740);
delayMicroseconds(1500);
pulseIR(760);
delayMicroseconds(400);
pulseIR(740);
delayMicroseconds(400);
pulseIR(760);
delayMicroseconds(400);
pulseIR(720);
delayMicroseconds(400);
pulseIR(660);
delayMicroseconds(500);
pulseIR(740);
delayMicroseconds(400);
pulseIR(660);
delayMicroseconds(500);
pulseIR(740);
delayMicroseconds(1500);
pulseIR(660);
delayMicroseconds(1620);
pulseIR(740);
delayMicroseconds(1480);
pulseIR(720);
delayMicroseconds(440);
pulseIR(740);
delayMicroseconds(400);
pulseIR(760);
delayMicroseconds(400);
pulseIR(700);
delayMicroseconds(1520);
pulseIR(740);
delayMicroseconds(1520);
pulseIR(700);
delayMicroseconds(420);
pulseIR(740);
delayMicroseconds(400);
pulseIR(760);
delayMicroseconds(400);
pulseIR(720);
delayMicroseconds(1500);
pulseIR(740);
delayMicroseconds(1500);
pulseIR(620);
delayMicroseconds(1620);
pulseIR(740);
delayMicroseconds(4700);
pulseIR(4760);
delayMicroseconds(4420);
pulseIR(740);
delayMicroseconds(1520);
pulseIR(740);
delayMicroseconds(400);
pulseIR(740);
delayMicroseconds(1480);
pulseIR(740);
delayMicroseconds(1520);
pulseIR(700);
delayMicroseconds(420);
pulseIR(660);
delayMicroseconds(500);
pulseIR(740);
delayMicroseconds(1480);
pulseIR(720);
delayMicroseconds(440);
pulseIR(700);
delayMicroseconds(440);
pulseIR(740);
delayMicroseconds(1500);
pulseIR(620);
delayMicroseconds(500);
pulseIR(740);
delayMicroseconds(420);
pulseIR(740);
delayMicroseconds(1500);
pulseIR(640);
delayMicroseconds(1600);
pulseIR(720);
delayMicroseconds(400);
pulseIR(660);
delayMicroseconds(1600);
pulseIR(700);
delayMicroseconds(440);
pulseIR(740);
delayMicroseconds(420);
pulseIR(700);
delayMicroseconds(460);
pulseIR(740);
delayMicroseconds(1520);
pulseIR(720);
delayMicroseconds(1500);
pulseIR(740);
delayMicroseconds(1520);
pulseIR(740);
delayMicroseconds(1480);
pulseIR(740);
delayMicroseconds(1520);
pulseIR(740);
delayMicroseconds(1480);
pulseIR(720);
delayMicroseconds(1500);
pulseIR(720);
delayMicroseconds(1520);
pulseIR(760);
delayMicroseconds(400);
pulseIR(740);
delayMicroseconds(380);
pulseIR(760);
delayMicroseconds(400);
pulseIR(740);
delayMicroseconds(400);
pulseIR(740);
delayMicroseconds(400);
pulseIR(720);
delayMicroseconds(420);
pulseIR(660);
delayMicroseconds(500);
pulseIR(740);
delayMicroseconds(1500);
pulseIR(740);
delayMicroseconds(1500);
pulseIR(740);
delayMicroseconds(1480);
pulseIR(660);
delayMicroseconds(480);
pulseIR(760);
delayMicroseconds(400);
pulseIR(740);
delayMicroseconds(400);
pulseIR(720);
delayMicroseconds(1500);
pulseIR(760);
delayMicroseconds(1500);
pulseIR(700);
delayMicroseconds(420);
pulseIR(640);
delayMicroseconds(520);
pulseIR(680);
delayMicroseconds(520);
pulseIR(720);
delayMicroseconds(1520);
pulseIR(760);
delayMicroseconds(1480);
pulseIR(740);
delayMicroseconds(1500);
pulseIR(720);
}

void pulseIR(long microsecs) {
  cli(); // desativa quaisquer interrupções
  while (microsecs > 0) {
    // Em 38 kHz, 1 Hz tem cerca de 13 microssegundos em nível lógico alto e 13 microssegundos em baixo
    digitalWrite(IRledPin, HIGH);  // liga o LED. A execução desta linha leva cerca de 3 microsegundos
    delayMicroseconds(10);         // aguarda por 10 microseconds
    digitalWrite(IRledPin, LOW);   // desliga o LED. A execução desta linha leva cerca de 3 microsegundos
    delayMicroseconds(10);         // aguarda por 10 microseconds

    microsecs -= 26; // contador regressivo. Como cada ciclo (1 Hz) acima leva 26 microsegundos para ser executado, o while é executado até a condição não ser mais atendida
  }
  sei(); // habilita interrupções
}
